# åŒæ ˆIPæŸ¥è¯¢ä¸æµ‹é€Ÿå·¥å…·

ä¸€ä¸ªåŸºäºCloudflare Workersæ„å»ºçš„ç°ä»£åŒ–IPæŸ¥è¯¢ä¸ç½‘ç»œè¯Šæ–­å·¥å…·ï¼Œæ”¯æŒIPv4/IPv6åŒæ ˆæ£€æµ‹ã€å»¶è¿Ÿæµ‹è¯•å’Œç½‘é€Ÿæµ‹é‡ã€‚

![GitHub](https://img.shields.io/github/license/cc999g/cfworker-ip-tool)
![GitHub last commit](https://img.shields.io/github/last-commit/cc999g/cfworker-ip-tool)
![GitHub stars](https://img.shields.io/github/stars/cc999g/cfworker-ip-tool?style=social)
![GitHub issues](https://img.shields.io/github/issues/cc999g/cfworker-ip-tool)
![GitHub pull requests](https://img.shields.io/github/issues-pr/cc999g/cfworker-ip-tool)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” IPåœ°å€æ£€æµ‹
- **åŒæ ˆIPæ£€æµ‹**: åŒæ—¶æ£€æµ‹IPv4å’ŒIPv6åœ°å€
- **å¤šæ•°æ®æºéªŒè¯**: æ•´åˆä¸‰ä¸ªIPæŸ¥è¯¢APIæä¾›å‡†ç¡®ä¿¡æ¯
- **IPç±»å‹åˆ†æ**: è¯†åˆ«ä½å®…IPã€æœºæˆ¿IPã€ä»£ç†IPã€ç§»åŠ¨ç½‘ç»œ
- **åŸç”ŸIPåˆ¤æ–­**: ç‰¹åˆ«é’ˆå¯¹ä¸­å›½åŸç”ŸIPçš„æ£€æµ‹
- **è¯¦ç»†åœ°ç†ä½ç½®**: å›½å®¶ã€åœ°åŒºã€åŸå¸‚ã€ç»çº¬åº¦ç­‰

### ğŸ“Š å»¶è¿Ÿæµ‹è¯•
- **å›½å†…å¹³å°**: ç™¾åº¦ã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘
- **å›½å¤–å¯è®¿é—®ç«™ç‚¹**: Cloudflareã€GitHub
- **å›½å¤–è¢«å±è”½ç«™ç‚¹**: Googleã€Facebookã€Twitter
- **å®æ—¶å»¶è¿Ÿæ˜¾ç¤º**: é¢œè‰²åŒºåˆ†å»¶è¿Ÿè´¨é‡ï¼ˆç»¿è‰²<100msï¼Œé»„è‰²<300msï¼Œçº¢è‰²>300msï¼‰

### ğŸš€ ç½‘é€Ÿæµ‹è¯•
- **å¤šæœåŠ¡å™¨é€‰æ‹©**: Cloudflareã€OVHã€Speedtest
- **å®æ—¶é€Ÿåº¦å›¾è¡¨**: ä½¿ç”¨Chart.jså¯è§†åŒ–é€Ÿåº¦å˜åŒ–
- **å•ä½åˆ‡æ¢**: æ”¯æŒMbpsã€MB/sã€Kbpsè‡ªåŠ¨è½¬æ¢
- **å®Œæ•´æŒ‡æ ‡**: ä¸‹è½½é€Ÿåº¦ã€ä¸Šä¼ é€Ÿåº¦ã€å»¶è¿Ÿã€æŠ–åŠ¨

### ğŸ“ å†å²è®°å½•
- **æ™ºèƒ½å­˜å‚¨**: æ¯æ¡è®°å½•åŒæ—¶åŒ…å«IPv4å’ŒIPv6ä¿¡æ¯
- **å¿«é€ŸåŠ è½½**: ç‚¹å‡»å†å²è®°å½•ä¸€é”®é‡æ–°åŠ è½½
- **æœ¬åœ°åŒ–å­˜å‚¨**: ä½¿ç”¨Cloudflare KVæŒä¹…åŒ–å­˜å‚¨

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ |
|------|------|
| **å‰ç«¯** | HTML5, CSS3, JavaScript (ES6+) |
| **åç«¯** | Cloudflare Workers |
| **å›¾è¡¨** | Chart.js 3.7.0 |
| **å›¾æ ‡** | Font Awesome 6.0 |
| **å­˜å‚¨** | Cloudflare KV |
| **æ ·å¼** | è‡ªå®šä¹‰å“åº”å¼CSS |

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. å‡†å¤‡ç¯å¢ƒ
```
# å…‹éš†é¡¹ç›®
git clone https://github.com/cc999g/cfworker-ip-tool.git
cd cfworker-ip-tool

# å®‰è£…Wrangler CLI
npm install -g wrangler
```
### 2. é…ç½®é¡¹ç›®
```
# ç™»å½•Cloudflare
wrangler login

# åˆ›å»ºKVå‘½åç©ºé—´
wrangler kv:namespace create "IP_HISTORY"

# æ›´æ–°wrangler.tomlé…ç½®æ–‡ä»¶
# å°†ç”Ÿæˆçš„KV IDæ·»åŠ åˆ°wrangler.tomlä¸­
```
### 3. éƒ¨ç½²åˆ°Cloudflare
```
# å‘å¸ƒWorker
wrangler publish

# æˆ–ä½¿ç”¨npmè„šæœ¬
npm run deploy
```
## ğŸ“– ä½¿ç”¨æ–¹æ³•

### è®¿é—®åº”ç”¨
éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ä½ çš„WorkeråŸŸåå³å¯ä½¿ç”¨ã€‚

### ä¸»è¦åŠŸèƒ½æ“ä½œ

1. **IPåœ°å€æ£€æµ‹**
   - é¡µé¢åŠ è½½åè‡ªåŠ¨æ£€æµ‹IPv4å’ŒIPv6åœ°å€
   - æ˜¾ç¤ºè¯¦ç»†çš„IPç±»å‹å’Œåœ°ç†ä½ç½®ä¿¡æ¯

2. **å»¶è¿Ÿæµ‹è¯•**
   - ç‚¹å‡»"å¼€å§‹å»¶è¿Ÿæµ‹è¯•"æŒ‰é’®
   - ç³»ç»Ÿä¼šè‡ªåŠ¨æµ‹è¯•é¢„è®¾çš„8ä¸ªç›®æ ‡èŠ‚ç‚¹
   - ç»“æœä»¥é¢œè‰²åŒºåˆ†å»¶è¿Ÿè´¨é‡

3. **ç½‘é€Ÿæµ‹è¯•**
   - é€‰æ‹©æµ‹é€ŸæœåŠ¡å™¨ï¼ˆé»˜è®¤Cloudflareï¼‰
   - ç‚¹å‡»"å¼€å§‹æµ‹é€Ÿ"æŒ‰é’®
   - å®æ—¶æ˜¾ç¤ºä¸‹è½½é€Ÿåº¦å’Œè¿›åº¦å›¾è¡¨

4. **å†å²è®°å½•ç®¡ç†**
   - ç‚¹å‡»"ä¿å­˜åˆ°å†å²"å­˜å‚¨å½“å‰æ£€æµ‹ç»“æœ
   - ç‚¹å‡»å†å²è®°å½•é¡¹é‡æ–°åŠ è½½è¯¥æ¬¡æ£€æµ‹
   - ç‚¹å‡»æ¸…é™¤æŒ‰é’®åˆ é™¤æ‰€æœ‰å†å²è®°å½•

## ğŸ”§ APIç«¯ç‚¹
```
### Worker API
- `GET /` - ä¸»é¡µé¢
- `GET /api/ipinfo` - IPä¿¡æ¯æŸ¥è¯¢
- `GET /api/ping-targets` - è·å–å»¶è¿Ÿæµ‹è¯•ç›®æ ‡
- `GET /api/speedtest-servers` - è·å–æµ‹é€ŸæœåŠ¡å™¨åˆ—è¡¨
- `POST /api/save-history` - ä¿å­˜å†å²è®°å½•åˆ°KV
- `GET /api/history` - è·å–å†å²è®°å½•åˆ—è¡¨
- `POST /api/clear-history` - æ¸…é™¤æ‰€æœ‰å†å²è®°å½•
```
### è¯·æ±‚ç¤ºä¾‹
```
// è·å–IPä¿¡æ¯
fetch('/api/ipinfo')
  .then(response => response.json())
  .then(data => console.log(data));

// ä¿å­˜å†å²è®°å½•
fetch('/api/save-history', {
  method: 'POST',
  body: JSON.stringify(ipData)
});
```
## ğŸ“Š æ•°æ®æ¥æº

### IPæŸ¥è¯¢API
- **api.ip.sb** - ä¸»è¦ä¿¡æ¯æºï¼Œæä¾›åŸºç¡€IPä¿¡æ¯
- **ip-api.com** - è¡¥å……ä¿¡æ¯ï¼Œç‰¹åˆ«æ˜¯ä»£ç†æ£€æµ‹
- **freeipapi.com** - IPç±»å‹åˆ¤æ–­å’Œè¿è¥å•†ä¿¡æ¯

### æµ‹é€ŸæœåŠ¡å™¨
1. **Cloudflare** - `speed.cloudflare.com` (å…¨çƒåˆ†å¸ƒ)
2. **OVH Network** - `proof.ovh.net` (æ³•å›½)
3. **Speedtest** - `speedtest.sjc01.softlayer.com` (ç¾å›½)

## ğŸ—ï¸ é¡¹ç›®ç»“æ„
```
cfworker-ip-tool/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ worker.js          # Cloudflare Workerä¸»é€»è¾‘
â”‚   â”œâ”€â”€ style.css          # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ script.js          # å‰ç«¯é€»è¾‘
â”œâ”€â”€ wrangler.toml          # Wrangleré…ç½®
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â””â”€â”€ README.md              # è¯´æ˜æ–‡æ¡£
```
## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

### æŠ¥å‘Šé—®é¢˜
1. åœ¨[Issuesé¡µé¢](https://github.com/cc999g/cfworker-ip-tool/issues)æŸ¥çœ‹æ˜¯å¦å·²æœ‰ç±»ä¼¼é—®é¢˜
2. åˆ›å»ºæ–°çš„Issueï¼Œè¯¦ç»†æè¿°é—®é¢˜æˆ–å»ºè®®
3. æä¾›å¤ç°æ­¥éª¤å’Œç¯å¢ƒä¿¡æ¯

### æäº¤ä»£ç 
```
1. Forké¡¹ç›®åˆ°ä½ çš„GitHubè´¦æˆ·
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/ä½ çš„åŠŸèƒ½`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'æ·»åŠ äº†æŸæŸåŠŸèƒ½'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/ä½ çš„åŠŸèƒ½`
5. åˆ›å»ºPull Request
```
### å¼€å‘è§„èŒƒ
- ä½¿ç”¨ES6+è¯­æ³•
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- ç¡®ä¿ä»£ç é€šè¿‡åŸºç¡€æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®å’ŒæœåŠ¡ï¼š

- [Cloudflare Workers](https://workers.cloudflare.com/) - æ— æœåŠ¡å™¨è®¡ç®—å¹³å°
- [Chart.js](https://www.chartjs.org/) - æ•°æ®å¯è§†åŒ–åº“
- [Font Awesome](https://fontawesome.com/) - å›¾æ ‡åº“
- æ‰€æœ‰æä¾›IPæŸ¥è¯¢APIçš„æœåŠ¡å•†

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub**: [@cc999g](https://github.com/cc999g)
- **é‚®ç®±**: yai@z.org
- **é¡¹ç›®åœ°å€**: https://github.com/cc999g/cfworker-ip-tool

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’
```
- [ ] å®Œå–„æµ‹é€ŸåŠŸèƒ½ï¼Œå¢åŠ æ›´å¤šæµ‹é€ŸèŠ‚ç‚¹
- [ ] æ·»åŠ æ‰¹é‡IPæ£€æµ‹åŠŸèƒ½
- [ ] å®ç°IPå†å²å¯¹æ¯”å›¾è¡¨
- [ ] å¢åŠ å¯¼å‡ºæŠ¥å‘ŠåŠŸèƒ½ï¼ˆPDF/CSVï¼‰
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ç§»åŠ¨ç«¯ä¼˜åŒ–
```
---

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªâ­Staræ”¯æŒï¼**
